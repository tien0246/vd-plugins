(function(o,a,t,r,y,P){"use strict";const{View:E,Text:d,Pressable:C}=a.findByProps("Button","Text","View"),g=a.findByProps("extractTimestamp"),c=t.stylesheet.createThemedStyleSheet({container:{flex:1,padding:16,alignItems:"center",justifyContent:"center"},title:{fontFamily:t.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:24,textAlign:"left",color:y.semanticColors.HEADER_PRIMARY,paddingVertical:25},text:{flex:1,flexDirection:"row",fontSize:16,textAlign:"justify",color:y.semanticColors.HEADER_PRIMARY},dateContainer:{height:16,alignSelf:"baseline"}});function f({date:e}){return t.React.createElement(C,{style:c.dateContainer,onPress:function(){t.toasts.open({content:t.moment(e).toLocaleString(),source:P.getAssetIDByName("clock")})},onLongPress:function(){t.clipboard.setString(e.getTime().toString()),t.toasts.open({content:"Copied to clipboard"})}},t.React.createElement(d,{style:c.text},t.moment(e).fromNow()))}function R({channel:e}){return t.React.createElement(E,{style:c.container},t.React.createElement(d,{style:c.title},"This channel is hidden."),t.React.createElement(d,{style:c.text},"Topic: ",e.topic||"No topic.",`

`,"Creation date: ",t.React.createElement(f,{date:new Date(g.extractTimestamp(e.id))}),`

`,"Last message: ",e.lastMessageId?t.React.createElement(f,{date:new Date(g.extractTimestamp(e.lastMessageId))}):"No messages.",`

`,"Last pin: ",e.lastPinTimestamp?t.React.createElement(f,{date:new Date(e.lastPinTimestamp)}):"No pins."))}let l=[];const h=a.findByProps("getChannelPermissions","can"),T=a.findByProps("transitionToGuild"),x=a.findByProps("stores","fetchMessages"),{ChannelTypes:u}=a.findByProps("ChannelTypes"),{getChannel:M}=a.findByProps("getChannel"),A=[u.DM,u.GROUP_DM,u.GUILD_CATEGORY];function p(e){if(e==null||(typeof e=="string"&&(e=M(e)),!e||A.includes(e.type)))return!1;e.realCheck=!0;let n=!h.can(t.constants.Permissions.VIEW_CHANNEL,e);return delete e.realCheck,n}function B(){const e=a.findByName("MessagesWrapperConnected",!1);l.push(r.after("can",h,function([n,s],i){return!s?.realCheck&&n===t.constants.Permissions.VIEW_CHANNEL?!0:i})),l.push(r.instead("transitionToGuild",T,function(n,s){const[i,I]=n;!p(I)&&typeof s=="function"&&s(n)})),l.push(r.instead("fetchMessages",x,function(n,s){const[i]=n;!p(i)&&typeof s=="function"&&s(n)})),l.push(r.instead("default",e,function(n,s){const i=n[0]?.channel;return!p(i)&&typeof s=="function"?s(...n):t.React.createElement(R,{channel:i})}))}var D={onLoad:B,onUnload:function(){for(const e of l)e()}};return o.default=D,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui,vendetta.ui.assets);
