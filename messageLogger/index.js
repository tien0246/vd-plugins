(function(n,c,d,o,r,g){"use strict";let a;var i={onLoad:function(){o.showToast("MessageLogger: onLoad called (v4)");const s=d.findByStoreName("MessageStore");if(!s){o.showToast("ML Error: Could not find MessageStore!");return}a=g.before("dispatch",c.FluxDispatcher,function(u){const t=u[0];if(t.type==="MESSAGE_DELETE")try{const e=s.getMessage(t.channelId,t.id);if(e&&e.content){const l=e.author?.username??"unknown";o.showToast(`Deleted from ${l}: ${e.content}`)}else o.showToast(`ML: Deleted msg [${t.id}] not in cache or has no content.`)}catch(e){r.logger.error("MessageLogger: Error in MESSAGE_DELETE",e),o.showToast(`ML Error: ${e.message}`)}})},onUnload:function(){a?.(),r.logger.log("MessageLogger unloaded.")}};return n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.metro.common,vendetta.metro,vendetta.ui.toasts,vendetta,vendetta.patcher);
